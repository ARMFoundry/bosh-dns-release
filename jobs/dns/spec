---
name: dns

templates:
  dns_ctl.erb: bin/dns_ctl
  post-start.erb: bin/post-start
  config.json.erb: config/config.json

packages:
  - dns

provides: []

consumes: []

properties:
  address:
    description: "Address in which the DNS server will bind"
    default: 169.254.0.2
  aliased_address:
    description: "Address that will be added by default"
    default: 169.254.0.2
  port:
    description: "Port that the DNS server will bind to"
    default: 53
  recursors:
    description: "Addresses of upstream DNS servers used for recursively resolving queries"
    default: []
  records_file:
    description: "Path to the file containing information that the DNS server will use to create DNS records"
    default: /var/vcap/instance/dns/records.json
  alias_files_glob:
    description: "Glob for any files to look for DNS alias information"
    default: /var/vcap/jobs/*/dns/aliases.json